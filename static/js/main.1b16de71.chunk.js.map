{"version":3,"sources":["components/Navbar/Navbar.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","components/Users/Users.module.css","components/Header/Header.module.css","components/common/Pagination/Pagination.module.css","components/common/Preloader/Preloader.module.css","redux/profileReducer.js","assets/images/avatar.svg","hoc/withAuthRedirect.js","redux/dialogsReducer.js","api/api.js","components/Header/Header.jsx","redux/authReducer.js","components/Login/Login.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","helpers/objectHelpers.js","redux/usersReducer.js","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","redux/appReducer.js","hoc/withSuspense.js","App.js","reportWebVitals.js","redux/redux-store.js","index.js"],"names":["module","exports","Preloader","props","className","cn","parent","preloader","src","alt","ADD_POST","SET_USER_PROFILE","SET_STATUS","initialState","postData","id","message","likesCount","profile","status","profileReducer","state","action","type","messageText","addPostActionCreator","setUserProfile","setUserStatus","getProfileThunk","userId","dispatch","profileAPI","getProfile","then","response","data","getStatusThunk","getStatus","updateStatusThunk","updateStatus","resultCode","mapStateToProps","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","ADD_DIALOG_MESSAGE","dialogsData","name","messageData","dialogsReducer","addDialogMessageActionCreator","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsersAPI","currentPage","itemsCount","get","followAPI","post","unfollowAPI","delete","put","authAPI","isLogin","login","email","password","rememberMe","logout","Header","header","logo","SET_USER_AUTH","authReducer","payload","setUserAuth","isLogged","a","required","value","undefined","LoginForm","handleSubmit","values","onSubmit","render","submitError","submitting","validate","input","meta","placeholder","error","touched","disabled","News","Music","Settings","Pagination","totalCount","pageSelected","numberOfPages","Math","ceil","pagination","Array","keys","map","el","onClick","User","user","followingInPogress","unfollow","follow","leftContent","userAvatar","photos","small","avatar","followBtn","followed","some","rightContent","Users","users","u","updateObjectInArray","items","itemId","objPropName","newObjProps","us","FOLLOW","UNFOLLOW","SETUSERS","SETCURRENTPAGE","SETTOTALCOUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","usersReducer","filter","followSuccess","unfollowSuccess","setUsers","isFetchingToggle","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","getUsersSelector","usersPage","getItemsCount","getTotalCount","getCurrentPage","getIsFetching","getFollowingInPogress","UsersAPIContainer","getUsersFromPage","getUsers","followThunk","unfollowThunk","mapDispatchToProps","bind","compose","Navbar","nav","activeClassName","active","NavbarContainer","INITIALIZED_SUCCESS","initialized","appReducer","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","UsersContainer","withRouter","app","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","profilePage","dialogsPage","store","createStore","applyMiddleware","thunk","rerenderEntireTree","ReactDOM","StrictMode","document","getElementById","window","getState","subscribe"],"mappings":"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","file":"static/js/main.1b16de71.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__33ku4\",\"active\":\"Navbar_active__uQvRP\"};","export default __webpack_public_path__ + \"static/media/preloader.9f8d827a.svg\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\nimport cn from \"./Preloader.module.css\";\r\n\r\nconst Preloader = (props) => {\r\n  return (\r\n    <div className={cn.parent}>\r\n      <img className={cn.preloader} src={preloader} alt=\"\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__1j2_N\",\"userAvatar\":\"Users_userAvatar__GjMAj\",\"rightContent\":\"Users_rightContent__1oJeF\",\"leftContent\":\"Users_leftContent__1ylIb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__3_4wP\",\"header\":\"Header_header__2oXhe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Pagination_currentPage__1dN8T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"parent\":\"Preloader_parent__3TRlu\",\"preloader\":\"Preloader_preloader__2kCl0\"};","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\nconst initialState = {\r\n  postData: [\r\n    { id: 1, message: \"Hi. How are you?\", likesCount: 15 },\r\n    { id: 2, message: \"Hey. I'm fine. And you?\", likesCount: 20 },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        postData: [\r\n          ...state.postData,\r\n          {\r\n            id: 5,\r\n            message: action.messageText,\r\n            likesCount: 0,\r\n          },\r\n        ],\r\n      };\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n\r\nexport const addPostActionCreator = (messageText) => ({\r\n  type: ADD_POST,\r\n  messageText,\r\n});\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\n\r\nexport const setUserStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\n\r\nexport const getProfileThunk = (userId) => {\r\n  return (dispatch) => {\r\n    profileAPI.getProfile(userId).then((response) => {\r\n      dispatch(setUserProfile(response.data));\r\n    });\r\n  };\r\n};\r\n\r\nexport const getStatusThunk = (userId) => {\r\n  return (dispatch) => {\r\n    profileAPI.getStatus(userId).then((response) => {\r\n      dispatch(setUserStatus(response.data));\r\n    });\r\n  };\r\n};\r\n\r\nexport const updateStatusThunk = (status) => {\r\n  return (dispatch) => {\r\n    profileAPI.updateStatus(status).then((response) => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n      }\r\n    });\r\n  };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/avatar.3473430d.svg\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent =\r\n    connect(mapStateToProps)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","const ADD_DIALOG_MESSAGE = \"ADD-DIALOG-MESSAGE\";\r\n\r\nconst initialState = {\r\n  dialogsData: [\r\n    { id: 1, name: \"User 1\" },\r\n    { id: 2, name: \"User 2\" },\r\n    { id: 3, name: \"User 3\" },\r\n    { id: 4, name: \"User 4\" },\r\n    { id: 5, name: \"User 5\" },\r\n  ],\r\n  messageData: [\r\n    { id: 1, message: \"How are you?\" },\r\n    { id: 2, message: \"Hejo\" },\r\n    { id: 3, message: \"Hi\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_DIALOG_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messageData: [\r\n          ...state.messageData,\r\n          {\r\n            id: 4,\r\n            message: action.messageText,\r\n          },\r\n        ],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dialogsReducer;\r\nexport const addDialogMessageActionCreator = (messageText) => ({\r\n  type: ADD_DIALOG_MESSAGE,\r\n  messageText,\r\n});\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n  headers: { \"API-KEY\": \"98318856-f66a-4c36-af4b-5649d3dc63a8\" },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsersAPI(currentPage = 1, itemsCount = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${itemsCount}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  followAPI(userId = 1) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n\r\n  unfollowAPI(userId = 1) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n\r\n  getProfile(userId = 1) {\r\n    return instance.get(`/profile/${userId}`);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId = 1) {\r\n    return instance.get(`/profile/${userId}`);\r\n  },\r\n\r\n  getStatus(userId) {\r\n    return instance.get(`/profile/status/${userId}`);\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return instance.put(`/profile/status`, { status: status });\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  isLogin() {\r\n    return instance.get(`/auth/me`);\r\n  },\r\n\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`/auth/login`, { email, password, rememberMe });\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete(`/auth/login`);\r\n  },\r\n};\r\n","import cn from \"./Header.module.css\";\r\nfunction Header() {\r\n  return (\r\n    <header className={cn.header}>\r\n      <img\r\n        className={cn.logo}\r\n        src=\"https://cryptologos.cc/logos/uniswap-uni-logo.svg\"\r\n        alt=\"Logo\"\r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_AUTH = \"social-network/auth/SET_USER_AUTH\";\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_AUTH:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n\r\nexport const setUserAuth = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_AUTH,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const isLogged = () => async (dispatch) => {\r\n  const response = await authAPI.isLogin();\r\n\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data;\r\n    dispatch(setUserAuth(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(isLogged());\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout();\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setUserAuth(null, null, null, false));\r\n  }\r\n};\r\n","import { Form, Field } from \"react-final-form\";\r\nimport { FORM_ERROR } from \"final-form\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"./../../redux/authReducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst required = (value) => (value ? undefined : \"Required\");\r\n\r\nconst Login = (props) => {\r\n  if (props.isAuth) return <Redirect to={\"/profile\"} />;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Login</h2>\r\n      <LoginForm {...props} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LoginForm = (props) => {\r\n  debugger;\r\n  const handleSubmit = async (values) => {\r\n    props.login(values.email, values.password, values.rememberMe);\r\n    // if (values.password !== \"finalformrocks\") {\r\n    //   return { [FORM_ERROR]: \"Login Failed\" };\r\n    // }\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={handleSubmit}\r\n      render={({ submitError, handleSubmit, submitting }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <Field name=\"email\" validate={required}>\r\n            {({ input, meta }) => (\r\n              <div>\r\n                <input {...input} type=\"text\" placeholder=\"Email\" />\r\n                {meta.error && meta.touched && <span>{meta.error}</span>}\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <Field name=\"password\" validate={required}>\r\n            {({ input, meta }) => (\r\n              <div>\r\n                <input {...input} type=\"password\" placeholder=\"Password\" />\r\n                {meta.error && meta.touched && <span>{meta.error}</span>}\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <Field name=\"rememberMe\" type=\"checkbox\">\r\n            {({ input, meta }) => (\r\n              <div>\r\n                <label>\r\n                  <input {...input} type=\"checkbox\" />\r\n                  Remember me\r\n                </label>\r\n                {meta.error && meta.touched && <span>{meta.error}</span>}\r\n              </div>\r\n            )}\r\n          </Field>\r\n          {submitError && <div className=\"error\">{submitError}</div>}\r\n          <div className=\"buttons\">\r\n            <button type=\"submit\" disabled={submitting}>\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import cn from \"./News.module.css\";\r\n\r\nfunction News() {\r\n  return <div>News there</div>;\r\n}\r\n\r\nexport default News;\r\n","import cn from \"./Music.module.css\";\r\n\r\nfunction Music() {\r\n  return <div>Music there</div>;\r\n}\r\n\r\nexport default Music;\r\n","import cn from \"./Settings.module.css\";\r\n\r\nfunction Settings() {\r\n  return <div>Settings there</div>;\r\n}\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport cn from \"./Pagination.module.css\";\r\n\r\nexport const Pagination = ({\r\n  totalCount,\r\n  itemsCount,\r\n  currentPage,\r\n  pageSelected,\r\n}) => {\r\n  const numberOfPages = Math.ceil(totalCount / itemsCount);\r\n  return (\r\n    <div className={cn.pagination}>\r\n      {[...Array(numberOfPages).keys()].map((el) => {\r\n        if (\r\n          el === 0 ||\r\n          el === numberOfPages - 1 ||\r\n          el === currentPage - 2 ||\r\n          el === currentPage - 1 ||\r\n          el === currentPage\r\n        ) {\r\n          return (\r\n            <button\r\n              onClick={() => {\r\n                pageSelected(el);\r\n              }}\r\n              className={currentPage === el + 1 ? cn.currentPage : \"\"}\r\n              key={el}\r\n            >\r\n              {el + 1}\r\n            </button>\r\n          );\r\n        }\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport cn from \"./Users.module.css\";\r\nimport avatar from \"../../assets/images/avatar.svg\";\r\n\r\nconst User = ({ user, followingInPogress, unfollow, follow }) => {\r\n  return (\r\n    <div className={cn.user}>\r\n      <div className={cn.leftContent}>\r\n        <div className={cn.userAvatar}>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img src={user.photos.small ? user.photos.small : avatar} alt=\"\" />\r\n          </NavLink>\r\n        </div>\r\n        <div className={cn.followBtn}>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInPogress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInPogress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className={cn.rightContent}>\r\n        <div>{user.name}</div>\r\n        <div>{user.status}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport { Pagination } from \"../common/Pagination/Pagination\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({\r\n  currentPage,\r\n  pageSelected,\r\n  totalCount,\r\n  itemsCount,\r\n  users,\r\n  followingInPogress,\r\n  unfollow,\r\n  follow,\r\n}) => {\r\n  return (\r\n    <div>\r\n      {users.map((u) => (\r\n        <User\r\n          key={u.id}\r\n          user={u}\r\n          followingInPogress={followingInPogress}\r\n          unfollow={unfollow}\r\n          follow={follow}\r\n        />\r\n      ))}\r\n\r\n      <Pagination\r\n        currentPage={currentPage}\r\n        pageSelected={pageSelected}\r\n        totalCount={totalCount}\r\n        itemsCount={itemsCount}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map((us) => {\r\n    if (us[objPropName] === itemId) {\r\n      return { ...us, ...newObjProps };\r\n    }\r\n    return us;\r\n  });\r\n};\r\n","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../helpers/objectHelpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SETUSERS = \"SET_USERS\";\r\nconst SETCURRENTPAGE = \"SET_CURRENT_PAGE\";\r\nconst SETTOTALCOUNT = \"SET_TOTAL_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  itemsCount: 10,\r\n  totalCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInPogress: [],\r\n};\r\n\r\nconst someFunc = (items, id, userId, { obj }) => {\r\n  items.map((us) => {\r\n    if (us[id] === userId) {\r\n      return {\r\n        ...us,\r\n        ...obj,\r\n      };\r\n    }\r\n    return us;\r\n  });\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: true,\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: false,\r\n        }),\r\n      };\r\n    case SETUSERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case SETCURRENTPAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      };\r\n    case SETTOTALCOUNT:\r\n      return {\r\n        ...state,\r\n        totalCount: action.totalCount,\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInPogress: action.isFetching\r\n          ? [...state.followingInPogress, action.userId]\r\n          : state.followingInPogress.filter((id) => id !== action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default usersReducer;\r\n\r\nexport const followSuccess = (userId) => ({\r\n  type: FOLLOW,\r\n  userId,\r\n});\r\n\r\nexport const unfollowSuccess = (userId) => ({\r\n  type: UNFOLLOW,\r\n  userId,\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n  type: SETUSERS,\r\n  users,\r\n});\r\n\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SETCURRENTPAGE,\r\n  currentPage,\r\n});\r\n\r\nexport const setTotalCount = (totalCount) => ({\r\n  type: SETTOTALCOUNT,\r\n  totalCount,\r\n});\r\n\r\nexport const isFetchingToggle = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const getUsers = (currentPage, itemsCount) => async (dispatch) => {\r\n  dispatch(isFetchingToggle(true));\r\n  const data = await usersAPI.getUsersAPI(currentPage, itemsCount);\r\n\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalCount(data.totalCount));\r\n  dispatch(isFetchingToggle(false));\r\n};\r\n\r\nexport const getUsersFromPage = (el, itemsCount) => async (dispatch) => {\r\n  dispatch(setCurrentPage(el + 1));\r\n  dispatch(isFetchingToggle(true));\r\n\r\n  const data = await usersAPI.getUsersAPI(el + 1, itemsCount);\r\n\r\n  dispatch(setUsers(data.items));\r\n  dispatch(isFetchingToggle(false));\r\n};\r\n\r\nexport const followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n  }\r\n};\r\n\r\nexport const followThunk = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    usersAPI.followAPI.bind(usersAPI),\r\n    followSuccess\r\n  );\r\n};\r\n\r\nexport const unfollowThunk = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    usersAPI.unfollowAPI.bind(usersAPI),\r\n    unfollowSuccess\r\n  );\r\n};\r\n","export const getUsersSelector = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getItemsCount = (state) => {\r\n  return state.usersPage.itemsCount;\r\n};\r\n\r\nexport const getTotalCount = (state) => {\r\n  return state.usersPage.totalCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInPogress = (state) => {\r\n  return state.usersPage.followingInPogress;\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n  followSuccess,\r\n  unfollowSuccess,\r\n  getUsers,\r\n  getUsersFromPage,\r\n  followThunk,\r\n  unfollowThunk,\r\n  toggleFollowingProgress,\r\n} from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInPogress,\r\n  getIsFetching,\r\n  getItemsCount,\r\n  getTotalCount,\r\n  getUsersSelector,\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersAPIContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, itemsCount } = this.props;\r\n    this.props.getUsers(currentPage, itemsCount);\r\n  }\r\n\r\n  pageSelected = (el) => {\r\n    const { itemsCount, getUsersFromPage } = this.props;\r\n    getUsersFromPage(el, itemsCount);\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          users={this.props.users}\r\n          follow={this.props.followThunk}\r\n          unfollow={this.props.unfollowThunk}\r\n          currentPage={this.props.currentPage}\r\n          pageSelected={this.pageSelected}\r\n          totalCount={this.props.totalCount}\r\n          itemsCount={this.props.itemsCount}\r\n          followingInPogress={this.props.followingInPogress}\r\n          toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersSelector(state),\r\n    itemsCount: getItemsCount(state),\r\n    totalCount: getTotalCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInPogress: getFollowingInPogress(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  followSuccess,\r\n  unfollowSuccess,\r\n  getUsers,\r\n  followThunk,\r\n  unfollowThunk,\r\n  getUsersFromPage,\r\n  toggleFollowingProgress,\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAuthRedirect\r\n)(UsersAPIContainer);\r\n","import { NavLink } from \"react-router-dom\";\r\nimport cn from \"./Navbar.module.css\";\r\n\r\nfunction Navbar(props) {\r\n  return (\r\n    <nav className={cn.nav}>\r\n      {props.isAuth ? (\r\n        <p>\r\n          Login as: <strong>{props.login}</strong>{\" \"}\r\n          <small>\r\n            <button onClick={props.logout}>Logout</button>\r\n          </small>\r\n        </p>\r\n      ) : (\r\n        <strong>\r\n          <NavLink to=\"/login\">Login</NavLink>\r\n        </strong>\r\n      )}\r\n      <div>\r\n        <NavLink to=\"/profile\" activeClassName={cn.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/dialogs\" activeClassName={cn.active}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/users\" activeClassName={cn.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/news\" activeClassName={cn.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/music\" activeClassName={cn.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/settings\" activeClassName={cn.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport { setUserAuth, isLogged, logout } from \"../../redux/authReducer\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass NavbarContainer extends React.Component {\r\n  render() {\r\n    return <Navbar {...this.props} />;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userId: state.auth.userId,\r\n    email: state.auth.email,\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { setUserAuth, isLogged, logout })(\r\n  NavbarContainer\r\n);\r\n","import { isLogged } from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n  await dispatch(isLogged());\r\n\r\n  dispatch(initializedSuccess());\r\n};\r\n\r\nexport default appReducer;\r\n","import React from \"react\";\r\nimport { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n};\r\n","import { Route, withRouter } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport Header from \"./components/Header/Header\";\nimport Login from \"./components/Login/Login.jsx\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport NavbarContainer from \"./components/Navbar/NavbarContainer\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { initializeApp } from \"./redux/appReducer\";\nimport { compose } from \"redux\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport { Suspense } from \"react\";\nimport { withSuspense } from \"./hoc/withSuspense\";\n\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer.jsx\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\n\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer.jsx\")\n);\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) return <Preloader />;\n    return (\n      <div className=\"App\">\n        <Header />\n\n        <NavbarContainer />\n        <div className=\"App-content\">\n          <Route\n            path=\"/profile/:userId?\"\n            render={withSuspense(ProfileContainer)}\n          />\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/news\" render={() => <News />} />\n          <Route path=\"/music\" render={() => <Music />} />\n          <Route path=\"/settings\" render={() => <Settings />} />\n          <Route path=\"/login\" render={() => <Login />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./redux/redux-store\";\n\nfunction rerenderEntireTree(state) {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  );\n}\n\nwindow.store = store;\n\nrerenderEntireTree(store.getState());\n\nstore.subscribe(() => {\n  const state = store.getState();\n  rerenderEntireTree(state);\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}